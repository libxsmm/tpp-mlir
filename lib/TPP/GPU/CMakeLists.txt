add_mlir_library(TPPGPU
  Utils.cpp
  GpuPipeline.cpp
  GpuConversion.cpp
  GpuToCuda.cpp
  GpuToVulkan.cpp

  ADDITIONAL_HEADER_DIRS
    ${PROJECT_SOURCE_DIR}/include/TPP

  LINK_LIBS PUBLIC
    MLIRGPUOps
    MLIRGPUTransforms
    MLIRSCFToGPU
    MLIRGPUToNVVMTransforms
    MLIRSPIRVDialect
    MLIRSPIRVTransforms
    MLIRGPUToVulkanTransforms
    MLIRGPUToSPIRV
)

if (TPP_GPU)
  target_compile_definitions(obj.TPPGPU
    PRIVATE
    TPP_GPU_ENABLE=1
  )
endif()
